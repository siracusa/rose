#summary Rose::DB::Object benchmarks including DBI.

= Rose::DB::Object Benchmarks (with DBI) =

The modules are abbreviated like this:

{{{
CDBI - Class::DBI
CDBS - Class::DBI::Sweet
DBIC - DBIx::Class
RDBO - Rose::DB::Object
DBI  - DBI
}}}

See [RDBOBenchmarks] for a comparison that does not include DBI.

{{{
% ./bench.pl --cmp all --db mysql --iterations 4000 --cpu 10 --skip-intro

##
## Benchmark against Class::DBI, Class::DBI::Sweet, DBI, DBIx::Class using MySQL
##

Module             Version
-----------------  -------
Class::DBI         3.0.17
Class::DBI::Sweet  0.08
DBI                1.601
DBIx::Class        0.08008
Rose::DB::Object   0.766

# Simple: insert 1
            (warning: too few iterations for a reliable count)
        Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   589/s    --  -11%  -37%  -78%  -94%
CDBI   660/s   12%    --  -30%  -76%  -94%
DBIC   941/s   60%   43%    --  -65%  -91%
RDBO  2721/s  362%  312%  189%    --  -74%
DBI  10526/s 1687% 1495% 1018%  287%    --

# Complex: insert 1
            (warning: too few iterations for a reliable count)
        Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   585/s    --  -10%  -37%  -76%  -94%
CDBI   647/s   11%    --  -31%  -73%  -94%
DBIC   932/s   59%   44%    --  -61%  -91%
RDBO  2410/s  312%  272%  158%    --  -77%
DBI  10526/s 1700% 1526% 1029%  337%    --

# Simple: insert 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS  341/s    --   -7%  -43%  -83%  -96%
CDBI  368/s    8%    --  -38%  -82%  -96%
DBIC  594/s   74%   61%    --  -70%  -94%
RDBO 2000/s  487%  443%  237%    --  -78%
DBI  9302/s 2628% 2426% 1465%  365%    --

# Complex: insert 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS  380/s    --   -8%  -42%  -80%  -96%
CDBI  413/s    9%    --  -38%  -78%  -96%
DBIC  661/s   74%   60%    --  -65%  -93%
RDBO 1905/s  401%  361%  188%    --  -80%
DBI  9302/s 2347% 2151% 1307%  388%    --

# Simple: accessor 1
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS 1.38/s    --   -1%  -84%  -93%  -96%
CDBI 1.39/s    1%    --  -84%  -93%  -96%
DBIC 8.53/s  520%  516%    --  -57%  -74%
RDBO 19.8/s 1335% 1325%  131%    --  -41%
DBI  33.4/s 2329% 2312%  292%   69%    --

# Complex: accessor 1
       Rate  CDBI  CDBS  DBIC  RDBO  DBI 
CDBI 1.37/s    --   -0%  -84%  -92%  -96%
CDBS 1.38/s    0%    --  -84%  -92%  -96%
DBIC 8.42/s  513%  510%    --  -51%  -75%
RDBO 17.2/s 1150% 1145%  104%    --  -49%
DBI  33.5/s 2341% 2331%  298%   95%    --

# Simple: accessor 2
        Rate  CDBI  CDBS  DBIC  RDBO  DBI 
CDBI 0.312/s    --   -0%  -85%  -94%  -98%
CDBS 0.313/s    0%    --  -85%  -94%  -98%
DBIC  2.13/s  584%  581%    --  -62%  -83%
RDBO  5.60/s 1697% 1690%  163%    --  -56%
DBI   12.6/s 3940% 3924%  491%  125%    --

# Complex: accessor 2
       s/iter  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS     3.22    --   -1%  -53%  -89%  -98%
CDBI     3.20    1%    --  -53%  -89%  -98%
DBIC     1.50  115%  113%    --  -77%  -95%
RDBO    0.348  828%  820%  332%    --  -77%
DBI  7.96e-02 3951% 3916% 1788%  337%    --

# Simple: load 1
       Rate CDBS DBIC CDBI RDBO DBI 
CDBS  610/s   -- -30% -30% -71% -90%
DBIC  868/s  42%   --  -1% -58% -85%
CDBI  875/s  44%   1%   -- -58% -85%
RDBO 2073/s 240% 139% 137%   -- -65%
DBI  5970/s 879% 588% 582% 188%   --

# Simple: load 2
       Rate CDBS CDBI DBIC RDBO DBI 
CDBS  454/s   -- -24% -37% -69% -88%
CDBI  596/s  31%   -- -17% -59% -84%
DBIC  722/s  59%  21%   -- -51% -81%
RDBO 1460/s 222% 145% 102%   -- -62%
DBI  3810/s 740% 539% 428% 161%   --

# Complex: load 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS  319/s    --  -16%  -56%  -77%  -92%
CDBI  382/s   20%    --  -48%  -73%  -90%
DBIC  727/s  128%   91%    --  -48%  -81%
RDBO 1394/s  337%  265%   92%    --  -63%
DBI  3810/s 1093%  898%  424%  173%    --

# Simple: load 3
       Rate  DBIC  CDBS  CDBI  RDBO  DBI 
DBIC  247/s    --  -20%  -34%  -68%  -93%
CDBS  307/s   24%    --  -18%  -60%  -91%
CDBI  372/s   51%   21%    --  -51%  -89%
RDBO  765/s  210%  149%  105%    --  -77%
DBI  3333/s 1249%  986%  795%  336%    --

# Complex: load 3
       Rate  CDBS  DBIC  CDBI  RDBO  DBI 
CDBS  236/s    --   -5%  -13%  -67%  -93%
DBIC  247/s    5%    --   -9%  -65%  -93%
CDBI  272/s   15%   10%    --  -62%  -92%
RDBO  709/s  201%  187%  160%    --  -79%
DBI  3390/s 1336% 1271% 1144%  378%    --

# Simple: update 1
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS  312/s    --  -20%  -28%  -72%  -91%
CDBI  390/s   25%    --  -10%  -65%  -89%
DBIC  434/s   39%   11%    --  -62%  -88%
RDBO 1130/s  263%  190%  160%    --  -68%
DBI  3571/s 1046%  816%  722%  216%    --

# Simple: update 2
       Rate CDBS CDBI DBIC RDBO DBI 
CDBS  260/s   -- -17% -28% -69% -90%
CDBI  314/s  21%   -- -13% -62% -88%
DBIC  360/s  39%  15%   -- -57% -86%
RDBO  835/s 222% 166% 132%   -- -68%
DBI  2632/s 914% 739% 631% 215%   --

# Complex: update 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS  157/s    --  -12%  -55%  -80%  -94%
CDBI  178/s   13%    --  -49%  -77%  -93%
DBIC  349/s  122%   97%    --  -55%  -87%
RDBO  780/s  396%  339%  123%    --  -71%
DBI  2667/s 1598% 1400%  663%  242%    --

# Simple: search 1
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS 43.8/s    --  -15%  -34%  -71%  -95%
CDBI 51.3/s   17%    --  -22%  -66%  -94%
DBIC 66.2/s   51%   29%    --  -56%  -92%
RDBO  151/s  245%  195%  129%    --  -82%
DBI   839/s 1813% 1535% 1168%  454%    --

# Simple: search 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS 20.5/s    --  -11%  -53%  -74%  -96%
CDBI 23.2/s   13%    --  -47%  -71%  -96%
DBIC 43.5/s  112%   88%    --  -46%  -92%
RDBO 80.3/s  291%  247%   85%    --  -85%
DBI   535/s 2504% 2209% 1130%  566%    --

# Complex: search 2
       Rate   CDBS   CDBI   DBIC   RDBO   DBI 
CDBS 3.65/s     --    -5%   -91%   -94%   -99%
CDBI 3.82/s     5%     --   -91%   -94%   -99%
DBIC 42.6/s  1067%  1014%     --   -35%   -92%
RDBO 65.1/s  1684%  1603%    53%     --   -87%
DBI   517/s 14060% 13423%  1114%   694%     --

# Simple: search with limit and offset
       Rate  CDBS  DBIC  RDBO  DBI 
CDBS 20.2/s    --  -52%  -74%  -96%
DBIC 42.1/s  109%    --  -46%  -91%
RDBO 78.1/s  287%   85%    --  -83%
DBI   455/s 2157%  980%  483%    --

# Complex: search with limit and offset
       Rate   CDBS   DBIC   RDBO   DBI 
CDBS 3.62/s     --   -91%   -94%   -99%
DBIC 42.3/s  1066%     --   -35%   -91%
RDBO 65.0/s  1693%    54%     --   -85%
DBI   448/s 12250%   959%   589%     --

# Making indexes...

# Simple: search with 1-to-1 sub-objects
       Rate  DBIC  CDBS  CDBI  RDBO  DBI 
DBIC 9.80/s    --  -42%  -48%  -90%  -96%
CDBS 17.0/s   74%    --  -10%  -82%  -94%
CDBI 18.9/s   93%   11%    --  -80%  -93%
RDBO 93.5/s  854%  449%  395%    --  -66%
DBI   272/s 2676% 1497% 1339%  191%    --

# Complex: search with 1-to-1 sub-objects
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS 3.49/s    --   -3%  -64%  -96%  -99%
CDBI 3.61/s    4%    --  -63%  -96%  -99%
DBIC 9.72/s  179%  169%    --  -89%  -96%
RDBO 92.1/s 2542% 2452%  847%    --  -66%
DBI   269/s 7626% 7361% 2670%  192%    --

# Inserting 1-to-n records.....

# Simple: search with 1-to-1 and 1-to-n sub-objects
     s/iter  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   8.77    --  -16%  -28%  -90%  -96%
CDBI   7.38   19%    --  -15%  -88%  -95%
DBIC   6.31   39%   17%    --  -86%  -94%
RDBO  0.908  867%  714%  595%    --  -57%
DBI   0.390 2152% 1795% 1520%  133%    --

# Complex: search with 1-to-1 and 1-to-n sub-objects
     s/iter  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   13.3    --  -11%  -50%  -93%  -97%
CDBI   11.8   13%    --  -44%  -92%  -96%
DBIC   6.60  102%   79%    --  -86%  -94%
RDBO  0.955 1292% 1134%  591%    --  -56%
DBI   0.421 3055% 2696% 1466%  127%    --

# Simple: iterate 1
       Rate  CDBS  DBIC  CDBI  RDBO  DBI 
CDBS 34.7/s    --  -10%  -14%  -72%  -96%
DBIC 38.4/s   11%    --   -5%  -69%  -96%
CDBI 40.5/s   17%    6%    --  -67%  -95%
RDBO  123/s  254%  220%  203%    --  -86%
DBI   880/s 2438% 2193% 2071%  617%    --

# Complex: iterate 1
       Rate  CDBS  DBIC  CDBI  RDBO  DBI 
CDBS 34.6/s    --   -8%  -15%  -71%  -96%
DBIC 37.4/s    8%    --   -8%  -69%  -96%
CDBI 40.6/s   17%    8%    --  -66%  -95%
RDBO  119/s  244%  218%  193%    --  -87%
DBI   884/s 2456% 2262% 2077%  643%    --

# Simple: iterate 2
       Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS 17.1/s    --  -12%  -36%  -76%  -98%
CDBI 19.4/s   13%    --  -28%  -73%  -97%
DBIC 26.8/s   57%   38%    --  -62%  -96%
RDBO 71.1/s  316%  267%  165%    --  -91%
DBI   750/s 4285% 3765% 2697%  954%    --

# Complex: iterate 2
       Rate   CDBS   CDBI   DBIC   RDBO   DBI 
CDBS 3.29/s     --    -4%   -88%   -94%  -100%
CDBI 3.43/s     4%     --   -87%   -94%  -100%
DBIC 27.2/s   727%   693%     --   -53%   -96%
RDBO 57.5/s  1649%  1577%   111%     --   -92%
DBI   757/s 22919% 21971%  2683%  1216%     --

# Simple: iterate 3
       Rate   CDBS   CDBI   DBIC   RDBO   DBI 
CDBS 5.54/s     --    -7%   -25%   -88%   -99%
CDBI 5.98/s     8%     --   -19%   -87%   -99%
DBIC 7.39/s    33%    24%     --   -83%   -99%
RDBO 44.6/s   705%   646%   504%     --   -93%
DBI   655/s 11716% 10853%  8762%  1368%     --

# Complex: iterate 3
       Rate   CDBS   CDBI   DBIC   RDBO   DBI 
CDBS 2.33/s     --    -3%   -69%   -94%  -100%
CDBI 2.40/s     3%     --   -68%   -94%  -100%
DBIC 7.41/s   218%   209%     --   -80%   -99%
RDBO 37.9/s  1528%  1481%   412%     --   -94%
DBI   652/s 27911% 27096%  8703%  1620%     --

# Dropping indexes...

# Simple: delete
            (warning: too few iterations for a reliable count)
        Rate  CDBS  DBIC  CDBI  RDBO  DBI 
CDBS   351/s    --  -23%  -23%  -90%  -97%
DBIC   455/s   29%    --   -0%  -87%  -96%
CDBI   455/s   29%    0%    --  -87%  -96%
RDBO  3509/s  898%  672%  671%    --  -67%
DBI  10526/s 2895% 2216% 2213%  200%    --

# Complex: delete
            (warning: too few iterations for a reliable count)
        Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   205/s    --  -13%  -48%  -94%  -98%
CDBI   237/s   15%    --  -40%  -93%  -98%
DBIC   391/s   91%   65%    --  -89%  -96%
RDBO  3478/s 1597% 1370%  789%    --  -68%
DBI  10811/s 5173% 4468% 2662%  211%    --

# Simple: insert or update
            (warning: too few iterations for a reliable count)
        Rate  CDBS  CDBI  DBIC  RDBO  DBI 
CDBS   292/s    --  -21%  -25%  -82%  -98%
CDBI   372/s   27%    --   -4%  -77%  -98%
DBIC   389/s   33%    5%    --  -76%  -98%
RDBO  1646/s  463%  342%  323%    --  -91%
DBI  17391/s 5848% 4570% 4365%  957%    --

# Complex: insert or update
       Rate DBIC RDBO
DBIC  339/s   -- -74%
RDBO 1329/s 292%   --
}}}
